.\" update\-alternatives.8
.\" This man page is copyright 1997 Charles Briscoe-Smith
.\" This is free documentation; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published
.\" by the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.  There is NO WARRANTY.  You can
.\" find the GNU GPL in /usr/share/common-licenses/GPL on any Debian system.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH update\-alternatives 8 18\-07\-2007 "Projet Debian" "Utilitaires de dpkg"
.SH NOM
update\-alternatives \- maintenance des liens symboliques déterminant les noms
par défaut de certaines commandes
.
.SH SYNOPSIS
\fBupdate\-alternatives\fP [\fIoptions\fP] \fIcommande\fP
.
.SH DESCRIPTION
\fBupdate\-alternatives\fP crée, enlève, conserve et affiche des informations
concernant les liens symboliques qui forment le système Debian des «\
alternatives\ ».
.PP
Il est possible d'installer, sur un même système et en même temps, des
programmes qui remplissent des fonctions identiques ou semblables. Par
exemple, beaucoup de systèmes installent plusieurs éditeurs de texte en même
temps. Cela permet à chaque utilisateur d'un système de choisir, s'il le
désire, un éditeur de texte différent\ ; mais cela rend les choses
difficiles pour le programme qui doit choisir un bon éditeur de texte quand
l'utilisateur n'a pas fait de choix précis.
.PP
Le système Debian des «\ alternatives\ » essaie de résoudre ce
problème. Tous les fichiers qui proposent des fonctions interchangeables se
servent d'un nom générique qui se trouve dans l'arborescence. Le système des
«\ alternatives\ » et l'administrateur système font connaître ensemble le
fichier qui est réellement visé par ce nom générique. Par exemple, si les
éditeurs de texte \fBed\fP(1) et \fBnvi\fP(1) sont tous les deux installés, le
système des «\ alternatives\ » fait que le nom générique \fI/usr/bin/editor\fP
renvoie par défaut à \fI/usr/bin/nvi\fP. L'administrateur système peut
remplacer cette assignation par \fI/usr/bin/ed\fP et le système des «\
alternatives\ » ne la changera pas tant qu'on ne lui aura pas demandé
explicitement de le faire.
.PP
Le nom générique n'est pas un lien symbolique direct vers l'alternative
choisie. C'est en fait un lien symbolique vers un nom situé dans le
\fIrépertoire\fP \fIdes «\ alternatives\ »\fP, lequel nom est à son tour un lien
symbolique vers le fichier réellement visé. Les modifications faites par
l'administrateur système sont ainsi confinées dans le répertoire \fI/etc\fP\ ;
le FHS (lisez\-le) donne de Bonnes Raisons de faire ainsi.
.PP
Chaque fois qu'un paquet proposant un fichier pour une fonction déterminée,
est installé, modifié ou désinstallé, \fBupdate\-alternatives\fP est appelé pour
mettre à jour les informations concernant ce fichier dans le système des «\
alternatives\ ». En général, \fBupdate\-alternatives\fP est appelé dans les
scripts \fBpostinst\fP et \fBprerm\fP des paquets Debian.
.PP
Il est souvent utile de synchroniser certaines alternatives, de manière à
pouvoir les manipuler globalement\ ; par exemple, quand plusieurs versions
de \fBvi\fP(1)  sont installées, la page de manuel qui est visée par
\fI/usr/share/man/man1/vi.1\fP devrait correspondre à
\fI/usr/bin/vi\fP. \fBupdate\-alternatives\fP gère ce problème avec les liens
\fIprincipaux («\ master\ »)\fP et les liens \fIsecondaires («\ slave\
»)\fP. Quand le lien principal est changé, tous les liens secondaires associés
sont changés. Un lien principal et ses liens secondaires associés composent
un \fIgroupe\fP de \fIliens.\fP
.PP
À tout moment, un groupe de liens est dans l'un des deux modes suivants\ :
automatique ou manuel. Quand un groupe est dans le mode automatique et que
des paquets sont installés ou désinstallés, le système des «\ alternatives\
» décide automatiquement s'il doit mettre à jour les liens et comment le
faire. Dans le mode manuel, le système des «\ alternatives\ » ne change pas
les liens et laisse l'administrateur système prendre toutes les décisions.
.PP
Un groupe de liens est en mode automatique quand il est crée sur un système
pour la première fois. Quand l'administrateur système modifie le paramétrage
automatique du système, \fBupdate\-alternatives\fP le remarquera la prochaine
fois qu'il sera lancé pour ce groupe aux liens modifiés et il fera passer ce
groupe en mode manuel.
.PP
À chaque alternative est associée une \fIpriorité\fP. Quand un groupe de liens
est en mode automatique, l'alternative visée par les éléments du groupe est
celle qui possède la priorité la plus élevée.
.PP
Quand on utilise l'option \fI\-\-config\fP, \fBupdate\-alternatives\fP affiche toutes
les possibilités du groupe pour lequel \fInom\fP est le lien principal. Le
choix actuel est noté par un «\ *\ » et le choix avec la plus haute
priorité, par un «\ +\ ». On vous demandera alors quelle possibilité vous
choisissez pour ce groupe. Dès qu'une modification est faite, le groupe de
liens n'est plus en mode \fIauto\fP. Il vous faudra utiliser l'option \fI\-\-auto\fP
pour revenir au mode automatique.
.PP
Si vous voulez configurer de manière non interactive, vous pouvez utiliser
l'option \fI\-\-set\fP (voyez ci\-dessous).
.PP
Les différents paquets qui fournissent un même fichier doivent le faire en
\fBcollaborant\fP. C'est\-à\-dire que l'utilisation de \fBupdate\-alternatives\fP est
\fBobligatoire\fP pour tous les paquets qui sont dans ce cas et il n'est pas
possible de remplacer un fichier d'un paquet qui n'utilise pas le mécanisme
offert par \fBupdate\-alternatives\fP.
.
.SH TERMINOLOGIE
Comme les opérations de \fBupdate\-alternatives\fP sont très compliquées, voici
quelques termes qui faciliteront l'explication.
.TP 
nom générique
C'est un nom, par exemple \fI/usr/bin/editor\fP, qui renvoie, à travers le
système des «\ alternatives\ », à l'un des fichiers qui remplissent des
fonctions similaires.
.TP 
lien symbolique
Sans autre information, c'est un lien symbolique qui se trouve dans le
répertoire alternatives, lien que l'administrateur système est supposé
établir.
.TP 
alternative
C'est le nom d'un fichier particulier dans l'arborescence\ ; il peut être
accessible avec un nom génériques grâce au système d'alternatives.
.TP 
répertoire des alternatives 
C'est le répertoire qui contient les liens symboliques\ ; il s'agit par
défaut de \fI/etc/alternatives.\fP
.TP 
répertoire administratif
C'est le répertoire qui contient des renseignements sur l'état de
\fBupdate\-alternatives.\fP Il s'agit par défaut de
\fI/var/lib/dpkg/alternatives.\fP
.TP 
groupe de liens
C'est un ensemble de liens symboliques corrélés, de manière qu'on puisse les
mettre à jour en une seule fois.
.TP 
lien principal
Dans un groupe de liens, c'est le lien qui détermine comment sont configurés
les autres liens du groupe.
.TP 
lien secondaire («\ slave\ »)
Dans un groupe de liens, c'est un lien déterminé par le paramétrage du lien
principal.
.TP 
mode automatique
Quand un groupe de liens est en mode automatique, le système des «\
alternatives\ » assure que les liens dans le groupe pointent vers
l'alternative possédant la priorité la plus élevée dans ce groupe.
.TP 
mode manuel 
Quand un groupe de liens est en mode manuel, le système des «\ alternatives\
» ne modifie pas le paramétrage de l'administrateur système.
.
.SH COMMANDES
.TP 
\fB\-\-install\fP \fIgenname lien altern priority\fP [\fB\-\-slave\fP \fIgenname lien altern\fP]...
Ajoute un groupe d'alternatives au système. \fIgenname\fP est le nom générique
du lien principal, \fIlien\fP est le nom de son lien symbolique, et \fIaltern\fP
est l'alternative présentée pour le lien principal. Les arguments après
\fB\-\-slave\fP sont le nom générique, le lien symbolique dans le répertoire des
alternatives et l'alternative pour un lien secondaire. On peut indiquer zéro
ou plusieurs options \fB\-\-slave\fP chacune suivie par trois arguments.
.IP
Quand le lien principal spécifié existe déjà dans les enregistrements du
système des «\ alternatives\ », les renseignements fournis sont ajoutés dans
un nouvel ensemble d'alternatives pour le groupe. Sinon, un nouveau groupe
contenant ces informations est ajouté et mis en mode automatique. Quand un
groupe est en mode automatique, et quand la priorité des alternatives
nouvellement ajoutées est plus élevée que toutes celles des alternatives
installées dans ce groupe, les liens symboliques sont mis à jour et pointent
vers les alternatives nouvellement ajoutées.
.TP 
\fB\-\-set\fP \fInom chemin\fP
Ajoute le programme \fIchemin\fP comme alternative pour \fInom\fP. C'est
équivalent à \fI\-\-config\fP mais ce n'est pas interactif et on peut donc écrire
un script.
.TP 
\fB\-\-remove\fP \fInom chemin\fP
Enlève une alternative et tous ses liens secondaires associés. \fInom\fP est un
nom dans le répertoire des «\ alternatives\ », et \fIchemin\fP est un nom de
fichier auquel \fInom\fP peut être lié. Quand \fInom\fP est en effet lié à
\fIchemin\fP, \fInom\fP est mis à jour et pointe vers une autre alternative
adéquate ou bien est enlevé s'il n'y en a pas d'autre. De même, les liens
secondaires associés sont mis à jour ou enlevés. Quand le lien ne pointe pas
déjà sur \fIchemin\fP, aucun lien n'est modifié\ ; seules les informations sur
l'alternative sont supprimées.
.TP 
\fB\-\-remove\-all\fP \fInom\fP
Supprime toutes les alternatives et tous les liens secondaires
associés. \fInom\fP est un nom dans le répertoire des alternatives.
.TP 
\fB\-\-all\fP
Appelle \fB\-\-config\fP sur toutes les alternatives.
.TP 
\fB\-\-auto\fP \fInom\fP
Passe le lien symbolique principal \fInom\fP en mode automatique. En même
temps, le lien symbolique principal et ses liens secondaires sont mis à jour
et pointent vers les alternatives avec les priorités les plus élevées.
.TP 
\fB\-\-display\fP \fInom\fP
Affiche des renseignements sur le groupe de liens pour lequel \fInom\fP est le
lien principal. L'information affichée comprend le mode du groupe (auto ou
manuel), vers quelle alternative le lien symbolique pointe actuellement,
quelles autres alternatives sont disponibles (et les liens secondaires
associés), et l'alternative actuellement installée qui possède la priorité
la plus élevée.
.TP 
\fB\-\-list\fP \fIlink\fP
Affiche toutes les cibles du groupe de liens.
.TP 
\fB\-\-config\fP \fIlien\fP
Affiche les alternatives disponibles pour un groupe de liens et autorise
l'utilisateur à faire un choix de manière interactive. Le groupe de liens
est mis à jour et le mode automatique \fIauto\fP est désactivé.
.TP 
\fB\-\-help\fP
Affiche un message d'aide puis quitte.
.TP 
\fB\-\-version\fP
Affiche le numéro de version puis quitte.
.
.SH OPTIONS
.TP 
\fB\-\-altdir\fP\fI répertoire\fP
Donne le répertoire des alternatives, quand il est différent de celui par
défaut.
.TP 
\fB\-\-admindir\fP\fI répertoire\fP
Donne le répertoire administratif, quand il est différent de celui par
défaut.
.TP 
\fB\-\-verbose\fP
produit plus de commentaires sur ce que fait \fBupdate\-alternatives\fP.
.TP 
\fB\-\-quiet\fP
Ne produit pas de commentaire à moins qu'une erreur survienne. Cette option
n'est pas encore implémentée.
.
.SH FICHIERS
.TP 
\fI/etc/alternatives/\fP
Le répertoire des «\ alternatives\ » par défaut. Peut être remplacé avec
l'option \fB\-\-altdir\fP.
.TP 
\fI/var/lib/dpkg/alternatives/\fP
Le répertoire administratif par défaut. Peut être remplacé avec l'option
\fB\-\-admindir\fP
.
.SH "CODE DE SORTIE"
.IP 0
L'action demandée s'est correctement déroulée.
.IP 2
Des problèmes sont survenus lors de l'analyse de la ligne de commande ou
bien pendant l'exécution de l'action.
.
.SH DIAGNOSTICS
\fBupdate\-alternatives\fP bavarde sans arrêt sur ses opérations sur le canal de
sortie standard. Quand un problème arrive, \fBupdate\-alternatives\fP envoie des
messages d'erreur sur la sortie d'erreur standard et retourne un état de
sortie égal à 2. Ces diagnostics devraient s'expliquer d'eux\-mêmes\ ; si ce
n'est pas le cas, veuillez faire un rapport de bogue.
.
.SH EXEMPLES
Plusieurs paquets fournissent un éditeur de texte compatible avec \fBvi\fP, par
exemple \fBnvi\fP et \fBvim\fP. Celui qui sera utilisé est déterminé par le groupe
de liens \fBvi\fP, qui comprend des liens pour le programme lui\-même et sa page
de manuel.
.PP
Pour afficher les paquets disponibles qui fournissent \fBvi\fP et son
paramétrage actuel, on peut utiliser l'action \fI\-\-display\fP\ :
.RS
.PP
\fBupdate\-alternatives \-\-display vi\fP
.RE
.PP
Pour choisir une implémentation particulière de \fBvi\fP on peut utiliser cette
commande en tant que super\-utilisateur et choisir un nombre dans la liste\ :
.RS
.PP
\fBupdate\-alternatives \-\-config vi\fP
.RE
.PP
Pour retrouver l'implémentation par défaut de \fBvi\fP on peut utiliser cette
commande en tant que super\-utilisateur\ :
.RS
.PP
\fBupdate\-alternatives \-\-auto vi\fP
.RE
.
.SH BOGUES
Si vous trouvez un bogue, veuillez le signaler au système de suivi des
bogues de Debian, ou bien, si ce n'est pas possible, envoyez un courriel
directement à l'auteur.
.PP
Si vous trouvez une discordance entre l'action de \fBupdate\-alternatives\fP et
cette page de manuel, c'est qu'il y a un bogue, soit dans l'implémentation
soit dans la documentation\ ; faites un rapport.
.
.SH AUTEUR
Copyright (C) 1995 Ian Jackson
.sp
Ce programme est un logiciel libre\ ; voyez la «\ GNU General Public
Licence\ » version 2 ou supérieure pour le copyright. Il n'y a PAS de
garantie.
.PP
Cette page de manuel est copyright 1997, 1998 Charles Briscoe\-Smith.
.sp
Cette documentation est libre\ ; voyez la «\ GNU General Public Licence\ »
version 2 ou supérieure pour le copyright. Il n'y a PAS de garantie.
.
.SH "VOIR AUSSI"
\fBln\fP(1), FHS, le standard pour l'organisation du système de fichiers.
.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas François, 2006.
Veuillez signaler toute erreur à <debian\-l10n\-french@lists.debian.org>.
