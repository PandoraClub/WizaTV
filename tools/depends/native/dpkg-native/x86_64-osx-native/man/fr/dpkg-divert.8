.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-divert 8 18\-07\-2007 "Projet Debian" "Utilitaires de dpkg"
.SH NOM
dpkg\-divert \- remplacer la version d'un fichier contenu dans un paquet.
.
.SH SYNOPSIS
\fBdpkg\-divert\fP [\fIoptions\fP] \fIcommande\fP
.
.SH DESCRIPTION
\fBdpkg\-divert\fP sert à créer et à mettre à jour la liste des détournements.
.PP
Le «\ détournement\ » de fichier est un moyen d'obliger \fBdpkg\fP(1) à
installer un fichier non pas dans l'emplacement prévu mais dans un
autre. Les scripts des paquets Debian se servent de la déviation pour
déplacer les fichiers qui créent des conflits. Les administrateurs s'en
servent, lors de l'installation d'une version plus récente d'un paquet, pour
remplacer les fichiers de configuration de certains paquets, ou bien à
chaque fois que des fichiers (qui ne sont pas des «\ conffiles\ ») doivent
être préservés par dpkg.
.sp
.SH COMMANDES
.TP 
[\fB\-\-add\fP] \fIfichier\fP
Ajouter un détournement pour le \fIfichier\fP.
.TP 
\fB\-\-remove\fP\fI fichier\fP
Supprimer un détournement pour le \fIfichier\fP.
.TP 
\fB\-\-list\fP \fIexp\-reg\fP
Lister les détournements qui correspondent à \fIexp\-reg\fP.
.TP 
\fB\-\-truename\fP\fI fichier\fP
Afficher le vrai nom d'un fichier détourné.
.
.SH OPTIONS
.TP 
\fB\-\-admindir\fP\fI répertoire\fP
Définir le répertoire de données de Dpkg comme \fIrépertoire\fP (par défaut
c'est \fI/var/lib/dpkg\fP).
.TP 
\fB\-\-divert\fP\fI détourner\-dans\fP
\fIdétourner\-dans\fP est l'emplacement vers lequel les versions de \fIfichier\fP,
tel qu'il est donné par d'autres paquets, seront détournées.
.TP 
\fB\-\-local\fP
Indique que toutes les versions de ce fichier sont détournées. Cela signifie
qu'il n'y a pas d'exception et quel que soit le paquet installé, ce fichier
sera détourné. Un administrateur peut par exemple installer une version
modifiée localement.
.TP 
\fB\-\-package\fP\fI paquet\fP
\fIpaquet\fP est le nom du paquet dont la copie de \fIfichier\fP ne sera pas
détournée. Autrement dit, \fIfichier\fP sera détourné sauf s'il appartient à
\fIpaquet\fP.
.TP 
\fB\-\-quiet\fP
Mode silencieux, pas de bavardage.
.TP 
\fB\-\-rename\fP
Met en fait le fichier de côté. Quand le fichier de destination existe,
\fBdpkg\-divert\fP interrompt l'opération.
.TP 
\fB\-\-test\fP
Mode de test, ne rien modifier réellement, seulement montrer.
.TP 
\fB\-\-help\fP
Affiche un message d'aide puis quitte.
.TP 
\fB\-\-version\fP
Affiche le numéro de version puis quitte.
.
.SH NOTES
Pour l'ajout, le défaut est \fB\-\-local\fP et \fB\-\-divert\fP \fI
<original>.distrib\fP. Pour la suppression, \fB\-\-package\fP ou \fB\-\-local\fP
et \fB\-\-divert\fP doivent correspondre quand ils sont précisés.

On ne peut pas détourner des répertoires avec \fBdpkg\-divert\fP.

Il faut faire attention quand une bibliothèque partagée est
détournée. \fBldconfig\fP(8) crée un lien symbolique à partir du champ
DT_SONAME embarqué dans la bibliothèque. ldconfig ne connaît pas les
détournements (seul dpkg le fait), et si une bibliothèque détournée possède
le même SONAME que la bibliothèque non détournée, le lien symbolique peut
pointer en fin de compte sur la bibliothèque détournée.
.
.SH EXEMPLES
Pour détourner toutes les copies de \fI/usr/bin/example\fP vers
\fI/usr/bin/example.foo\fP, c'est\-à\-dire demander aux paquets qui fournissent
\fI/usr/bin/example\fP de l'installer dans \fI/usr/bin/example.foo\fP, en
effectuant le changement de nom si nécessaire\ :
.HP
dpkg\-divert \-\-divert /usr/bin/example.foo \-\-rename /usr/bin/example
.PP
Pour supprimer ce détournement\ :
.HP
dpkg\-divert \-\-rename \-\-remove /usr/bin/example

.PP
Pour détourner un paquet qui veut installer \fI/usr/bin/example\fP dans
\fI/usr/bin/example.foo\fP, sauf votre propre paquet \fIwibble\fP\ :
.HP
dpkg\-divert \-\-package wibble \-\-divert /usr/bin/example.foo \-\-rename
/usr/bin/example
.PP
Pour supprimer ce détournement\ :
.HP
dpkg\-divert \-\-package wibble \-\-rename \-\-remove /usr/bin/example
.
.SH FICHIERS
.TP 
\fI/var/lib/dpkg/diversions\fP
Ce fichier contient la liste des détournements en oeuvre sur le système. Il
se trouve dans le répertoire d'administration de dpkg, avec d'autres
fichiers importants comme «\ status\ » ou «\ available\ ».
.br
Note : \fBdpkg\-divert\fP préserve l'ancienne copie de ce fichier, avec
l'extension «\ \-old\ », avant de la remplacer par la nouvelle.
.
.SH "VOIR AUSSI"
\fBdpkg\fP(1).
.
.SH AUTEUR
Copyright (C) 1995 Ian Jackson
.sp
Ce programme est un logiciel libre\ ; voyez la «\ GNU General Public
Licence\ » version 2 ou supérieure pour le copyright. Il n'y a PAS de
garantie.
.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas François, 2006.
Veuillez signaler toute erreur à <debian\-l10n\-french@lists.debian.org>.
